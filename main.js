"use strict";var columns=16,bpm=120,ms=6e4/bpm,eightN=ms/2,seq={init:function(e){seq.el={},seq.el.doc=$(document),seq.el.parent=seq.el.doc.find("#sequencer"),seq.el.matrix=seq.el.parent.find("#matrix"),seq.el.reset=seq.el.parent.find("#reset"),seq.el.play=seq.el.parent.find("#play"),seq.el.stop=seq.el.parent.find("#stop"),seq.buildSequencer(),seq.bindEvent()},buildSequencer:function(){for(var e=[".f0",".f1",".f2",".f3",".f4",".f5",".f6",".f7",".f8",".f9"],s=9;s>=0;s--)seq.el.matrix.prepend("<div class='fila f"+s+"'></div>");e.map(function(e){for(var s=columns;s>0;s--)$(e).prepend('<div class="square"></div>')}),seq.el.square=seq.el.parent.find(".square")},bindEvent:function(){seq.el.square.mousedown(seq.paint),seq.el.reset.click(seq.reset),seq.paintDrag()},paint:function(){$(this).toggleClass("square-active")},paintDrag:function(){seq.el.doc.mousedown(function(){seq.el.square.bind("mouseover",function(){$(this).toggleClass("square-active")})}).mouseup(function(){seq.el.square.unbind("mouseover")})},reset:function(){seq.el.square.removeClass("square-active")}};$(seq.init);var press=function(){var e=1,s=void 0,n={};return n.play=function(){seq.el.play.hide(),seq.el.stop.show();var n=function(e){var s=" div:nth-child("+columns+"n+"+e+")";seq.el.parent.find(".fila"+s).addClass("colorOn").delay(eightN).queue(function(){$(this).removeClass("colorOn").dequeue()});var n=[".f0",".f1",".f2",".f3",".f4",".f5",".f6",".f7",".f8",".f9"];!function(e){e.map(function(e,n){$(e+s).hasClass("square-active")&&note["f"+n].play()})}(n)};s=setInterval(function(){e>=1&&e<=columns-1?(n(e),e++):(n(columns),e=1)},eightN)},n.stop=function(){seq.el.stop.hide(),seq.el.play.show(),clearInterval(s)},n}();